(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{7444:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/informacion",function(){return t(5604)}])},5604:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var i=t(5893),s=t(7294),l=t(9008),r=t.n(l),a=t(8752),o=t(6221),d=t(8974),c=t(649),u=t(5945),m=t(7837),x=t(7536),f=t(1163),g=t(9302),h=t(9310),p=t(553),v=t(8506),j=t(9211),w=t(5447),b=t(1472);function N(e){let{editInfo:n,onClose:t}=e,l=(0,u.NL)(),r=(0,f.useRouter)(),a=(0,h.a)(),o=new g.Z(a,r),[d,c]=(0,s.useState)(!1),[N,y]=(0,s.useState)([]),{isFetching:E,data:k}=(0,m.a)(["webinfos",n],()=>o.get("/webinfos/details/".concat(n.slug)),{staleTime:0,keepPreviousData:!0,refetchOnWindowFocus:!1}),{register:S,handleSubmit:L,reset:_,formState:{errors:I}}=(0,x.cI)({defaultValues:{}}),C=async e=>{if("text"===n.kind&&!e.value)return(0,p.Eo)("El texto es requerido");c(!0);let i=await o.post("/webinfos/update",{...n,...e,images:"text"!==n.kind?N:[]});if(!i.success)return c(!1),(0,p.Eo)(i.message);(0,p.XA)("Informaci\xf3n actualizada correctamente!"),c(!1),t(),l.invalidateQueries(["webinfos"]),y([]),_()};return(0,s.useEffect)(()=>{if(k){var e;_(k.data),y("text"!==n.kind&&(null===(e=k.data)||void 0===e?void 0:e.images)||[])}},[k,n,_]),(0,i.jsxs)("form",{className:"flex flex-col gap-4",children:[(0,i.jsx)("h1",{className:"text-xl font-medium text-gray-900",children:"Editar informaci\xf3n"}),E?(0,i.jsx)(v.Z,{color:w.P.PRIMARY}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:n.name}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:n.description})]}),"image"!==n.kind&&(0,i.jsx)(j.I,{label:"Texto",type:"text",name:"value",rules:{required:!0},errors:I,register:S}),"text"!==n.kind&&(0,i.jsx)(b.Z,{label:"Im\xe1genes",generalApi:o,files:N,setFiles:e=>y(e),maxFiles:n.imageMax}),(0,i.jsx)("button",{type:"button",className:"group flex w-full items-center justify-center rounded-md border border-gray-200 bg-white py-2 px-4 text-sm font-semibold shadow-sm transition-all hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:d,onClick(){t(),_()},children:"Cancelar"}),(0,i.jsx)("button",{className:"group flex w-full items-center justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-semibold text-white shadow-sm transition-all hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:d,onClick:L(C),children:d?(0,i.jsx)(v.Z,{}):"Guardar cambios"})]})]})}var y=t(7161),E=t(2541);let k=[{name:"Carrusel",slug:(0,E.l)("Carrusel"),description:"Lista de im\xe1genes",kind:"image"},{name:"Secci\xf3n 1",slug:(0,E.l)("Secci\xf3n 1"),description:"Url y imagen de la secci\xf3n 1 de la p\xe1gina principal",kind:"both",imageMax:1},{name:"Secci\xf3n 2",slug:(0,E.l)("Secci\xf3n 2"),description:"Url y imagen de la secci\xf3n 2 de la p\xe1gina principal",kind:"both",imageMax:1},{name:"Secci\xf3n 3",slug:(0,E.l)("Secci\xf3n 3"),description:"Url y imagen de la secci\xf3n 3 de la p\xe1gina principal",kind:"both",imageMax:1}];function S(){let[e,n]=(0,s.useState)(!1),[t,l]=(0,s.useState)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r(),{children:(0,i.jsx)("title",{children:"Informaci\xf3n"})}),(0,i.jsx)(c.Z,{onButtonClick(){l(void 0),n(!0)}}),(0,i.jsxs)("div",{className:"flex flex-1 items-stretch overflow-hidden",children:[(0,i.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,i.jsxs)("div",{className:"mx-auto max-w-7xl px-4 pt-8 sm:px-6 lg:px-8",children:[(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("h1",{className:"flex-1 text-2xl font-bold text-gray-900",children:"Informaci\xf3n"}),(0,i.jsxs)("div",{className:"ml-6 flex items-center rounded-lg bg-gray-100 p-0.5 sm:hidden",children:[(0,i.jsxs)("button",{type:"button",className:"rounded-md p-1.5 text-gray-400 hover:bg-white hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[(0,i.jsx)(a.Z,{className:"h-5 w-5","aria-hidden":"true"}),(0,i.jsx)("span",{className:"sr-only",children:"Use list view"})]}),(0,i.jsxs)("button",{type:"button",className:"ml-0.5 rounded-md bg-white p-1.5 text-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[(0,i.jsx)(o.Z,{className:"h-5 w-5","aria-hidden":"true"}),(0,i.jsx)("span",{className:"sr-only",children:"Use grid view"})]})]})]}),(0,i.jsxs)("section",{className:"mt-8 pb-16","aria-labelledby":"gallery-heading",children:[(0,i.jsx)("h2",{id:"gallery-heading",className:"sr-only",children:"Productos"}),(0,i.jsx)("ul",{role:"list",className:"grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-3 sm:gap-x-6 md:grid-cols-4 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:null==k?void 0:k.map(e=>(0,i.jsxs)("li",{className:"relative",children:[(0,i.jsx)("div",{className:"h-4 w-full bg-indigo-500 rounded"}),(0,i.jsx)("p",{className:"pointer-events-none mt-2 block truncate text-sm font-medium text-gray-900",children:e.name}),(0,i.jsx)("div",{className:"flex gap-2 justify-end",children:(0,i.jsx)("button",{className:"bg-indigo-500 transition-all duration-300 hover:bg-indigo-700 rounded-lg p-2",onClick(){l(e),n(!0)},children:(0,i.jsx)(d.Z,{className:"h-5 w-5 text-white"})})})]},e.slug))})]})]})}),(0,i.jsx)(y.Z,{open:e,setOpen:n,children:e&&t?(0,i.jsx)(N,{editInfo:t,onClose(){l(void 0),n(!1)}}):null})]})]})}},1472:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var i=t(5893),s=t(7294),l=t(8523),r=t(5133),a=t(6249),o=t(2541);let d={VALID_EXTENSIONS:{document:[".png",".jpg",".jpeg",".pdf",".word",".doc",".docx",".xml","application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",".xls",".xlsx",".xlsm",".xlsb"],pdf:[".pdf"],img:[".png",".jpg",".jpeg"],voucher:[".pdf",".png",".jpg",".jpeg"],excel:["xls","xlsx","xlsm","xlsb"]},IMAGE_EXTENSIONS:["png","jpg","jpeg"],PDF_EXTENSIONS:["pdf"],WORD_EXTENSIONS:["word","doc","docx","xml","application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"],EXCEL_EXTENSIONS:["xls","xlsx","xlsm","xlsb"]};function c(e){let n=e.split("."),t=n[n.length-1];return"pdf"===t?"pdf":d.IMAGE_EXTENSIONS.includes(t)?"image":d.WORD_EXTENSIONS.includes(t)?"word":d.EXCEL_EXTENSIONS.includes(t)?"excel":"other"}var u=t(5447),m=t(553),x=t(8506);function f(e){let{label:n,generalApi:t,files:f,setFiles:g,folder:h,name:p,maxFiles:v}=e,[j,w]=(0,s.useState)(null),[b,N]=(0,s.useState)(!1),y=async(e,n)=>{var t;if(!function(e,n,t){if("file"!==e.type||e.value.length<1)return;let i=!1,s=d.VALID_EXTENSIONS[n];for(let l=0;l<s.length;l++){var r,a,o,c,u;let m=s[l];if((null==e?void 0:null===(r=e.files)||void 0===r?void 0:null===(a=r[t||0])||void 0===a?void 0:a.name.substr((null==e?void 0:null===(o=e.files)||void 0===o?void 0:null===(c=o[t||0])||void 0===c?void 0:null===(u=c.name)||void 0===u?void 0:u.length)-m.length,m.length).toLowerCase())===m.toLowerCase()){i=!0;break}}return i}(e.target,"document",n)||!(null===(t=e.target)||void 0===t?void 0:t.files)){w(null),(0,m.Eo)("Formato de documento no v\xe1lido.");return}if(e.target.files[n].size>1e7){w(null),(0,m.Eo)("Peso m\xe1ximo excedido.");return}if("image"===c(e.target.files[n].name)){var i=new FileReader;i.onload=e=>{var n;w(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.result)},await i.readAsDataURL(e.target.files[n])}return e.target.files[n]};async function E(e,n){let i=await y(e,n);if(!i)return;let s=new FormData;h&&s.append("folder",h),p&&s.append("name",p),s.append("upfile",i),N(!0);let l=await t.post("/utils/file",s);if(N(!1),!(null==l?void 0:l.success)){(0,m.Eo)(null==l?void 0:l.message);return}return(0,m.XA)("Archivo guardado"),w(null),l.data}async function k(e){var n;let t=null===(n=e.target)||void 0===n?void 0:n.files;if(!t)return;if(v&&t.length+f.length>v){(0,m.Eo)("No se pueden subir m\xe1s de ".concat(v," archivos."));return}let i=[];for(let s=0;s<t.length;s++){let l=await E(e,s);l&&i.push(l)}g([...f,...i])}return(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:n}),(0,i.jsxs)("div",{className:"mb-4 flex flex-col gap-4",children:[v&&f.length>=v?(0,i.jsx)("div",{className:"relative max-h-32 min-w-fit flex-1 rounded-md border-2 border-dashed border-gray-300 px-2 py-4 text-center",children:(0,i.jsx)("p",{children:"No se pueden subir m\xe1s archivos"})}):(0,i.jsxs)("div",{className:"relative max-h-32 min-w-fit flex-1 rounded-md border-2 border-dashed border-gray-300 px-2 py-4 text-center",children:[b&&(0,i.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-black/5",children:(0,i.jsx)(x.Z,{color:u.P.PRIMARY})}),(0,i.jsx)("p",{className:(0,o.A)(b?"opacity-10":"","mb-4"),children:"Elegir archivo"}),(0,i.jsxs)("div",{className:(0,o.A)(b?"opacity-10":"","flex flex-col items-center justify-evenly sm:flex-row sm:space-y-0"),children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-center",children:[(0,i.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,i.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsxs)("label",{htmlFor:"inp_document_file",className:"relative mx-auto cursor-pointer rounded-md bg-white font-medium text-indigo-700 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500",children:[(0,i.jsx)("span",{children:"Escoger archivo"}),(0,i.jsx)("input",{multiple:!v||v>1,disabled:!!v&&f.length>=v,id:"inp_document_file",name:"inp_document_file",type:"file",className:"sr-only",onChange:k})]}),(0,i.jsx)("p",{className:"max-w-[120px] text-xs text-gray-500",children:"de hasta 10MB"})]})]}),j&&(0,i.jsx)("img",{src:j,className:"max-h-12 max-w-full rounded-lg border-2 border-indigo-400 sm:max-w-[50%]",alt:"Imagen del documento"})]})]}),f.map(e=>(0,i.jsxs)("div",{className:"flex justify-between max-h-24 max-w-sm gap-2 rounded-lg p-2 shadow-card",children:["image"===c(e.name)?(0,i.jsx)("img",{className:"h-16 rounded-lg border-2 border-indigo-400",src:e.url,alt:""}):(0,i.jsx)(l.Z,{className:"mx-auto mb-2 h-12 w-12 text-gray-400"}),(0,i.jsxs)("div",{className:"flex flex-col items-end justify-between gap-1",children:[(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e.name})}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:(0,i.jsx)(r.Z,{className:"h-5 w-5"})}),(0,i.jsx)("button",{className:"w-auto",onClick(){g(f.filter(n=>n.url!==e.url))},children:(0,i.jsx)(a.Z,{className:"h-5 w-5"})})]})]})]},e.url))]})]})}},5133:function(e,n,t){"use strict";var i=t(7294);let s=i.forwardRef(function({title:e,titleId:n,...t},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"}))});n.Z=s},8523:function(e,n,t){"use strict";var i=t(7294);let s=i.forwardRef(function({title:e,titleId:n,...t},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))});n.Z=s},8974:function(e,n,t){"use strict";var i=t(7294);let s=i.forwardRef(function({title:e,titleId:n,...t},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"}))});n.Z=s},6249:function(e,n,t){"use strict";var i=t(7294);let s=i.forwardRef(function({title:e,titleId:n,...t},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))});n.Z=s}},function(e){e.O(0,[281,426,609,774,888,179],function(){return e(e.s=7444)}),_N_E=e.O()}]);